<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="sys/include :: header"></head>

<body class="gray-bg">
    <div class="wrapper wrapper-content animated">
        <!--搜索区域开始-->
        <div class="ibox float-e-margins">
            <div class="ibox-content">
                <form role="form" class="form-inline" id="org-form">
                	<div class="form-group">
                         <label>信息分类：</label>
                         <select id="infoType" name="infoType" class="form-control form-selectdown">
                         	<option value="">所有</option>
                         	<option value="通知公告">通知公告</option>
                         	<option value="信息公示">信息公示</option>
                    	 </select>
                     </div>
                     <div class="form-group">
                         <label>发布状态：</label>
                         <select id="status" name="status" class="form-control form-selectdown">
                         	<option value="">所有</option>
                         	<option value="1">有效</option>
                         	<option value="0">无效</option>
                    	 </select>
                     </div>
                     <div class="form-group">
                         <label>标题：</label>
                         <input type="text" id="title" name="title" class="form-control">
                     </div>
                     <a class="btn btn-primary btn-rounded btn-sm" onclick="$.treeTable.search($('form').attr('id'))"><i class="fa fa-search"></i>&nbsp;查询</a>
                 </form>
             </div>
        </div>
        <!--搜索区域结束-->
        <div class="ibox float-e-margins">
             <div class="ibox-content">
                 <div id="toolbar" >
			     	 <button type="button" class="btn btn-outline btn-default" onclick="addPerson()">
			     	 	<i class="glyphicon glyphicon-plus" aria-hidden="true" ></i>新增
			    	 </button>
			    	 <button type="button" class="btn btn-outline btn-default" onclick="addPerson()">
			         	<i class="glyphicon glyphicon-plus" aria-hidden="true" ></i>删除
			    	 </button>
    			 </div>
                 <table id="bootstrap-table"></table>
             </div>
         </div>

    </div>

    <div th:include="sys/include :: footer"></div>
    
    <script type="text/javascript">
    $(function() {
    	var options = {
                url: prefix+"/info_publish_list",
                columns: [{
        	      	checkbox: true
      	        },{
                	title: '标题',
    	            field: 'title',
    	            width: '20%'
                },{
     	            title: '信息分类',
                	field: 'infoType',
     	            width: '10%',
     	            align: "center"
                },{
     	            title: '发布日期',
                	field: 'pubDate',
     	            width: '15%',
     	            align: "center"
                },{
     	            title: '状态',
                	field: 'status',
     	            width: '5%',
     	            align: "center",
     	            formatter: function(value,row,index) {
     	            	if(row.status==1){
     	            		return "有效";
     	            	}else{
     	            		return "无效";
     	            	}
     	            }
                },{
    	            title: '操作',
    	            width: '50%',
    	            align: 'center',
    	            formatter: function(value,row,index) {
    	                    var actions = [];
    	                    actions.push('<a class="btn btn-info  btn-xs true " href="#" onclick="$.operate.add(\'' + row.id + '\')"><i class="fa fa-plus">编辑</i></a> ');
    	                    actions.push('<a class="btn btn-success btn-xs true " href="#" onclick="$.operate.edit(\'' + row.id + '\')"><i class="fa fa-edit">无效</i></a> ');
    	                    actions.push('<a class="btn btn-danger btn-xs false " href="#" onclick="$.operate.remove(\'' + row.id + '\')"><i class="fa fa-remove">删除</i></a>');
    	                    return actions.join('');
    	                
                    }
    	        }]
            };
            $.table.init(options);
    });
    </script>

</body>

</html>